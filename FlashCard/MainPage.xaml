<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Shell.NavBarIsVisible="False"
             x:Class="FlashCard.MainPage">

    <!--Background Image-->
    <Grid>
        <Image Source="pokemonbg.jpg"
               Aspect="AspectFill"
               Opacity="0.7" />

        <!--Main Content-->
        <ScrollView>
            <VerticalStackLayout Padding="20" Spacing="20">

                <!--Title Section-->
                <Border StrokeThickness="4"
                        Padding="15,10"
                        Margin="0,10,0,0"
                        HorizontalOptions="Center"
                        BackgroundColor="#FFCB05">
                    <Border.Stroke>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#3B4CCA" Offset="0.0" />
                            <GradientStop Color="#B3A125" Offset="1.0" />
                        </LinearGradientBrush>
                    </Border.Stroke>
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="15" />
                    </Border.StrokeShape>
                    <Label Text=" POKÉMON QUIZ "
                           FontSize="32"
                           FontAttributes="Bold"
                           TextColor="#3B4CCA"
                           HorizontalOptions="Center">
                        <Label.Shadow>
                            <Shadow Brush="White"
                                    Offset="2,2"
                                    Radius="1"
                                    Opacity="0.8" />
                        </Label.Shadow>
                    </Label>
                </Border>

                <!--CarouselView-->
                <Border StrokeThickness="0"
                        Padding="5"
                        BackgroundColor="Transparent">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="20" />
                    </Border.StrokeShape>

                    <CarouselView x:Name="NumberCarousel"
                                  HeightRequest="450"
                                  IndicatorView="indicator"
                                  PositionChanged="OnCarouselPositionChanged"
                                  HorizontalOptions="Fill">
                        <CarouselView.ItemTemplate>
                            <DataTemplate>
                                <Border Margin="15,10"
                                        Padding="0"
                                        HeightRequest="430"
                                        HorizontalOptions="Center"
                                        VerticalOptions="Center"
                                        BackgroundColor="White"
                                        StrokeThickness="6">
                                    <Border.Stroke>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FFCB05" Offset="0.0" />
                                            <GradientStop Color="#3B4CCA" Offset="0.5" />
                                            <GradientStop Color="#CC0000" Offset="1.0" />
                                        </LinearGradientBrush>
                                    </Border.Stroke>
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="25" />
                                    </Border.StrokeShape>

                                    <Grid RowDefinitions="Auto,*,Auto" Padding="20">
                                        <!--Card Header-->
                                        <Border Grid.Row="0"
                                                BackgroundColor="#CC0000"
                                                Padding="15,10"
                                                Margin="0,0,0,15"
                                                StrokeThickness="3"
                                                HorizontalOptions="Center"
                                                VerticalOptions="Center"
                                                Stroke="Gold">
                                            <Border.StrokeShape>
                                                <RoundRectangle CornerRadius="12" />
                                            </Border.StrokeShape>
                                            <Label Text="WHO'S THAT   POKÉMON?"
                                                   FontSize="20"
                                                   FontAttributes="Bold"
                                                   TextColor="White"
                                                   Padding="35,0"
                                                   VerticalOptions="Center"
                                                   HorizontalOptions="Center" />
                                        </Border>

                                        <!--Pokemon Image-->
                                        <Border Grid.Row="1"
                                                BackgroundColor="#F0F0F0"
                                                Padding="20"
                                                StrokeThickness="3"
                                                Stroke="#FFCB05">
                                            <Border.StrokeShape>
                                                <RoundRectangle CornerRadius="15" />
                                            </Border.StrokeShape>
                                            <Image x:Name="pokemonImg"
                                                   Source="{Binding Value.ImageFile}"
                                                   WidthRequest="200" 
                                                   HeightRequest="200"
                                                   Aspect="AspectFit"
                                                   HorizontalOptions="Center"
                                                   VerticalOptions="Center" />
                                        </Border>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </CarouselView.ItemTemplate>
                    </CarouselView>
                </Border>

                <!--Page Indicator-->
                <IndicatorView x:Name="indicator"
                               IndicatorColor="#E0E0E0"
                               SelectedIndicatorColor="#CC0000"
                               IndicatorSize="12"
                               HorizontalOptions="Center"
                               Margin="0,-10,0,0" />

                <!--Answer Input Section-->
                <Border BackgroundColor="White"
                        Padding="15"
                        StrokeThickness="3"
                        Stroke="#3B4CCA">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="15" />
                    </Border.StrokeShape>

                    <VerticalStackLayout Spacing="10">
                        <Entry x:Name="txtAnswer"
                               FontSize="20"
                               Placeholder="Enter Pokémon name..."
                               PlaceholderColor="#999999"
                               TextColor="#333333"
                               BackgroundColor="#F8F8F8"
                               HeightRequest="50" />

                        <Button Text="SUBMIT ANSWER"
                                Clicked="OnEnterClicked"
                                x:Name="btnSubmit"
                                FontSize="18"
                                FontAttributes="Bold"
                                TextColor="White"
                                BackgroundColor="#4CAF50"
                                CornerRadius="12"
                                HeightRequest="50"
                                Padding="20,10">
                        </Button>
                    </VerticalStackLayout>
                </Border>

                <!--Navigation Buttons-->
                <Grid ColumnDefinitions="*,*,*" 
                      ColumnSpacing="10"
                      Margin="0,5,0,5">

                    <Button Grid.Column="0"
                            Text="◀ PREV"
                            Clicked="OnPrevClicked"
                            FontSize="16"
                            FontAttributes="Bold"
                            TextColor="White"
                            BackgroundColor="#3B4CCA"
                            CornerRadius="12"
                            HeightRequest="50">
                        <Button.Shadow>
                            <Shadow Brush="Black"
                                    Offset="0,3"
                                    Radius="5"
                                    Opacity="0.3" />
                        </Button.Shadow>
                    </Button>

                    <Button Grid.Column="1"
                            Text="SHUFFLE"
                            Clicked="OnShuffleClicked"
                            FontSize="16"
                            FontAttributes="Bold"
                            TextColor="White"
                            BackgroundColor="#FF6B35"
                            CornerRadius="12"
                            HeightRequest="50">
                        <Button.Shadow>
                            <Shadow Brush="Black"
                                    Offset="0,3"
                                    Radius="5"
                                    Opacity="0.3" />
                        </Button.Shadow>
                    </Button>

                    <Button Grid.Column="2"
                            Text="NEXT ▶"
                            Clicked="OnNextClicked"
                            FontSize="16"
                            FontAttributes="Bold"
                            TextColor="White"
                            BackgroundColor="#3B4CCA"
                            CornerRadius="12"
                            HeightRequest="50">
                        <Button.Shadow>
                            <Shadow Brush="Black"
                                    Offset="0,3"
                                    Radius="5"
                                    Opacity="0.3" />
                        </Button.Shadow>
                    </Button>
                </Grid>
                <Button Text="RESET"
                        Clicked="OnResetClicked"
                        FontSize="16"
                        FontAttributes="Bold"
                        TextColor="White"
                        BackgroundColor="#3B4CCA"
                        CornerRadius="12"
                        HeightRequest="50">
                    <Button.Shadow>
                        <Shadow Brush="Black"
                                Offset="0,3"
                                Radius="5"
                                Opacity="0.3" />
                    </Button.Shadow>
                </Button>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>


</ContentPage>
